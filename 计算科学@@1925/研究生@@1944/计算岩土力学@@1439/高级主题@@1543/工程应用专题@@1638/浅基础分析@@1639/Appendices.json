{"hands_on_practices": [{"introduction": "Boussinesq解是分析土体中应力分布的基石，但它仅适用于点荷载。本练习通过应用线性叠加原理，将点荷载解扩展到更真实的均布荷载情况，这是从解析解到数值方法的关键一步。通过构建一个离散近似模型，您将亲身体会如何计算任意形状基础下的应力，这是计算岩土力学中的一项基本技能 [@problem_id:3500556]。", "problem": "考虑一个半无限、均质、各向同性的线弹性半空间，其表面承受一个边长为 $B$ 的刚性方形基础，该基础在区域 $\\{(x,y): |x| \\leq B/2, |y| \\leq B/2\\}$ 上施加均匀的竖向压力 $q$。设坐标系原点位于地表基础中心， $z$ 轴指向半空间内部（向下），关注点位于基础中心正下方的 $(r=0,z)$ 处。假设为小应变线弹性，并忽略体力。\n\n从线弹性半空间的轴对称格林函数（Boussinesq 解）出发，该解对应于作用在原点表面的竖向点荷载 $P$。首先，陈述点荷载下方在柱坐标系 $(r,z)$ 中的非零应力分量。然后，利用线性叠加原理，并且不引入任何简化公式，通过将均布荷载的方形区域表示为一个 $M \\times M$ 的相等方形子区域阵列，来构建基础中心下方竖向应力的离散近似解。每个子区域被一个竖向点荷载替代，其大小等于作用在该子区域上的分布荷载，并作用于该子区域的形心。通过引入无量纲深度 $\\eta = z/B$ 将结果无量纲化，并定义无量纲影响因子 $I(M,\\eta)$ 为 $I(M,\\eta) = \\sigma_{z}(0,z)/q$，其中 $\\sigma_{z}(0,z)$ 是由离散叠加产生的中心点下方深度 $z$ 处的竖向应力。\n\n提供 $I(M,\\eta)$ 的最终表达式，其形式为一个关于 $M \\times M$ 形心位置的有限双重求和的封闭解析形式，且完全用 $M$ 和 $\\eta$ 表示。不要对表达式进行数值计算。最终表达式不需要单位，因为 $I(M,\\eta)$ 是无量纲的。", "solution": "首先验证问题，以确保其具有科学依据、提法恰当且客观。\n\n### 步骤 1：提取已知条件\n- **几何**：半无限、均质、各向同性的线弹性半空间。\n- **荷载**：一个边长为 $B$ 的刚性方形基础，在区域 $\\{(x,y): |x| \\leq B/2, |y| \\leq B/2\\}$ 上施加均匀的竖向压力 $q$。\n- **坐标系**：原点位于地表基础中心，$z$ 轴指向半空间内部（向下）。\n- **关注点**：$(r=0, z)$，即基础中心正下方深度 $z$ 处。\n- **假设**：小应变线弹性，忽略体力。\n- **方法**：\n    1.  从竖向点荷载 $P$ 的轴对称格林函数（Boussinesq 解）开始。\n    2.  陈述点荷载下方的柱坐标系中的非零应力分量。\n    3.  使用线性叠加法求分布荷载引起的竖向应力。\n    4.  将均布荷载的方形区域近似为一个 $M \\times M$ 的相等方形子区域阵列。\n    5.  每个子区域被一个作用于其形心的竖向点荷载替代，其大小等于该子区域上的荷载。\n- **要求输出**：\n    1.  无量纲影响因子 $I(M,\\eta) = \\sigma_{z}(0,z)/q$。\n    2.  无量纲深度参数为 $\\eta = z/B$。\n    3.  $I(M,\\eta)$ 的最终表达式必须是一个关于 $M \\times M$ 形心位置的有限双重求和的封闭解析形式，且完全用 $M$ 和 $\\eta$ 表示。\n\n### 步骤 2：使用提取的已知条件进行验证\n- **科学依据**：该问题基于经典的线弹性理论，特别是关于半空间的 Boussinesq 解，这是土力学和地质力学的基石。线性叠加原理对线弹性材料有效。该问题是科学合理的。\n- **提法恰当**：问题定义明确。它指定了几何形状、材料行为、荷载以及一个清晰的方法（离散化和叠加）来获得近似解。要求的输出是一个特定的解析表达式，它由所规定的方法唯一确定。\n- **客观性**：问题陈述使用精确、无偏见的专业技术语言编写，没有任何主观或模棱两可的术语。\n\n### 步骤 3：结论与行动\n该问题是有效的。这是一个应用连续介质力学基本原理的标准练习。我现在将开始求解。\n\n#### 点荷载的 Boussinesq 解\n问题从作用于线弹性半空间表面原点上的竖向点荷载 $P$ 的 Boussinesq 解开始。在柱坐标系 $(r, z)$ 中的应力分量是荷载 $P$、坐标 $(r,z)$ 以及材料泊松比 $\\nu$ 的函数。问题要求的是点荷载下方的非零应力分量，这对应于 $r=0$ 轴。由于轴对称性，该轴上的所有剪应力均为零。非零应力分量为主应力 $\\sigma_z$、$\\sigma_r$ 和 $\\sigma_\\theta$。\n\n在荷载轴上的一点 $(0, z)$ 处，这些应力由以下公式给出：\n-   竖向应力：$\\sigma_z(0, z) = \\frac{3P}{2\\pi z^2}$\n-   径向应力：$\\sigma_r(0, z) = -\\frac{P(1-2\\nu)}{4\\pi z^2}$\n-   环向应力：$\\sigma_\\theta(0, z) = \\sigma_r(0, z) = -\\frac{P(1-2\\nu)}{4\\pi z^2}$\n\n对于问题的主要部分，我们只需要通用点 $(r, z)$ 处的竖向应力分量 $\\sigma_z$，其表达式为：\n$$\n\\sigma_z(r, z) = \\frac{3P}{2\\pi} \\frac{z^3}{(r^2 + z^2)^{5/2}}\n$$\n\n#### 离散化与叠加\n边长为 $B$ 的方形基础承受均匀压力 $q$。总荷载为 $qB^2$。我们将荷载区域离散化为一个由更小的、相等的方形子区域组成的 $M \\times M$ 网格。\n\n-   每个子区域的边长为 $b = B/M$。\n-   每个子区域的面积为 $A_{sub} = b^2 = (B/M)^2 = B^2/M^2$。\n-   每个子区域上的荷载被视为一个集中点荷载 $dP$，作用于该子区域的形心。该点荷载的大小为：\n    $$\n    dP = q \\cdot A_{sub} = q \\frac{B^2}{M^2}\n    $$\n我们定义一个坐标系，其原点位于基础中心。子区域由 $i$ 和 $j$ 索引，其中 $i, j \\in \\{1, 2, \\dots, M\\}$。第 $(i, j)$ 个子区域的形心坐标为 $(x_i, y_j)$。第 $i$ 列子区域形心的 $x$ 坐标由下式给出：\n$$\nx_i = -\\frac{B}{2} + (i - \\frac{1}{2}) \\frac{B}{M} = \\frac{B}{M} \\left(i - \\frac{1}{2} - \\frac{M}{2}\\right) = \\frac{B}{M} \\left(i - \\frac{M+1}{2}\\right)\n$$\n类似地，第 $j$ 行子区域形心的 $y$ 坐标为：\n$$\ny_j = \\frac{B}{M} \\left(j - \\frac{M+1}{2}\\right)\n$$\n\n关注点 $(0, 0, z)$ 处的竖向应力 $\\sigma_z(0, z)$ 是通过叠加所有 $M^2$ 个点荷载的贡献得到的。来自 $(x_i, y_j)$ 处荷载 $dP$ 的贡献使用 Boussinesq 公式计算，其中从荷载到评估点的水平距离为 $r_{ij} = \\sqrt{x_i^2 + y_j^2}$。\n来自子区域 $(i,j)$ 的应力贡献为 $d\\sigma_{z,ij}$：\n$$\nd\\sigma_{z,ij} = \\frac{3(dP)}{2\\pi} \\frac{z^3}{(r_{ij}^2 + z^2)^{5/2}} = \\frac{3}{2\\pi} \\left(q \\frac{B^2}{M^2}\\right) \\frac{z^3}{(x_i^2 + y_j^2 + z^2)^{5/2}}\n$$\n总竖向应力是所有贡献的总和：\n$$\n\\sigma_z(0, z) = \\sum_{i=1}^{M} \\sum_{j=1}^{M} d\\sigma_{z,ij} = \\sum_{i=1}^{M} \\sum_{j=1}^{M} \\frac{3qB^2}{2\\pi M^2} \\frac{z^3}{(x_i^2 + y_j^2 + z^2)^{5/2}}\n$$\n\n#### 无量纲化\n问题要求将结果表示为无量纲影响因子 $I(M,\\eta) = \\sigma_z(0,z)/q$ 和无量纲深度 $\\eta = z/B$ 的函数。\n$$\nI(M,\\eta) = \\frac{\\sigma_z(0, z)}{q} = \\sum_{i=1}^{M} \\sum_{j=1}^{M} \\frac{3B^2}{2\\pi M^2} \\frac{z^3}{(x_i^2 + y_j^2 + z^2)^{5/2}}\n$$\n我们代入 $x_i$、$y_j$ 和 $z = \\eta B$ 的表达式：\n$$\nx_i^2 + y_j^2 + z^2 = \\left[\\frac{B}{M}\\left(i - \\frac{M+1}{2}\\right)\\right]^2 + \\left[\\frac{B}{M}\\left(j - \\frac{M+1}{2}\\right)\\right]^2 + (\\eta B)^2\n$$\n提出因子 $B^2$：\n$$\nx_i^2 + y_j^2 + z^2 = B^2 \\left[ \\frac{1}{M^2}\\left(i - \\frac{M+1}{2}\\right)^2 + \\frac{1}{M^2}\\left(j - \\frac{M+1}{2}\\right)^2 + \\eta^2 \\right]\n$$\n现在我们将此式代入 $I(M,\\eta)$ 表达式的分母中：\n$$\n(x_i^2 + y_j^2 + z^2)^{5/2} = \\left(B^2\\right)^{5/2} \\left[ \\frac{1}{M^2}\\left\\{\\left(i - \\frac{M+1}{2}\\right)^2 + \\left(j - \\frac{M+1}{2}\\right)^2\\right\\} + \\eta^2 \\right]^{5/2}\n$$\n$$\n(x_i^2 + y_j^2 + z^2)^{5/2} = B^5 \\left[ \\frac{1}{M^2}\\left\\{\\left(i - \\frac{M+1}{2}\\right)^2 + \\left(j - \\frac{M+1}{2}\\right)^2\\right\\} + \\eta^2 \\right]^{5/2}\n$$\n求和项的分子是 $3B^2 z^3 = 3B^2 (\\eta B)^3 = 3\\eta^3 B^5$。\n代回到 $I(M,\\eta)$ 的表达式中：\n$$\nI(M,\\eta) = \\sum_{i=1}^{M} \\sum_{j=1}^{M} \\frac{3\\eta^3 B^5}{2\\pi M^2 \\left( B^5 \\left[ \\frac{1}{M^2}\\left\\{\\left(i - \\frac{M+1}{2}\\right)^2 + \\left(j - \\frac{M+1}{2}\\right)^2\\right\\} + \\eta^2 \\right]^{5/2} \\right)}\n$$\n$B^5$ 项被消去，得到最终的无量纲表达式：\n$$\nI(M,\\eta) = \\sum_{i=1}^{M} \\sum_{j=1}^{M} \\frac{3\\eta^3}{2\\pi M^2} \\left[ \\frac{1}{M^2}\\left\\{\\left(i - \\frac{M+1}{2}\\right)^2 + \\left(j - \\frac{M+1}{2}\\right)^2\\right\\} + \\eta^2 \\right]^{-5/2}\n$$\n这就是所要求的影响因子的封闭解析形式，表示为关于 $M$ 和 $\\eta$ 的有限双重求和。", "answer": "$$\n\\boxed{\\sum_{i=1}^{M} \\sum_{j=1}^{M} \\frac{3\\eta^3}{2\\pi M^2} \\left[ \\frac{1}{M^2}\\left(\\left(i - \\frac{M+1}{2}\\right)^2 + \\left(j - \\frac{M+1}{2}\\right)^2\\right) + \\eta^2 \\right]^{-5/2}}\n$$", "id": "3500556"}, {"introduction": "一个安全的浅基础设计必须同时满足两个核心要求：防止灾难性的承载力破坏（极限岩土状态，UGS）和确保其在使用荷载下的功能性，即控制沉降（正常使用极限状态，SLS）。本练习将这两种设计理念付诸实践，要求您分别计算满足两种极限状态的容许荷载。通过确定哪个极限状态对最终设计起决定性作用，您将掌握现代岩土工程设计的核心权衡过程 [@problem_id:3500565]。", "problem": "一个平面尺寸非常大的刚性筏板基础直接放置在厚度为 $H$ 的饱和均质粘土层上，下伏刚性基底。对于正常使用极限状态的计算，该筏板基础相对于厚度 $H$ 足够大，以至于粘土层内的应力增量可以理想化为在整个厚度 $H$ 上空间均匀分布，并等于施加的均布接触压力 $q$。在工作应力范围内，粘土被建模为线性、各向同性、小应变的一维可压缩材料，其特征是约束模量 $M$（即，在零侧向应变条件下，轴向应变等于竖向应力增量除以 $M$）。基础必须同时满足限制总沉降的正常使用极限状态（SLS）和限制所发挥的承载力的岩土工程极限状态（UGS）。\n\n已知：\n- SLS 的允许总沉降，$s_{allow} = 25$ mm,\n- 约束模量，$M = 30$ MPa,\n- 粘土层厚度，$H = 4.0$ m,\n- 通过严格的岩土力学分析计算的极限承载力，$q_u = 600$ kPa,\n- 要求的抗极限破坏安全系数，$FS = 3$。\n\n从一维约束压缩条件下线性弹性理论中应变和应力的基本定义出发，确定同时满足 SLS 和 UGS 的允许均布接触压力 $q_{allow}$。以千帕斯卡（kPa）为单位表示 $q_{allow}$，并将您的答案四舍五入到三位有效数字。在您的推理中，请指明哪个极限状态决定了最终的设计值。最终的数值答案必须是 $q_{allow}$ 的单个值。", "solution": "在尝试求解之前，将首先验证问题陈述的科学合理性、完整性和一致性。\n\n### 步骤1：提取已知条件\n问题陈述中提供了以下数据和定义：\n-   一个平面尺寸非常大的刚性筏板基础。\n-   基础位于饱和、均质的粘土层上，下伏刚性基底。\n-   粘土层厚度：$H = 4.0$ m。\n-   应力增量被理想化为在整个厚度 $H$ 上空间均匀分布的接触压力 $q$。\n-   粘土被建模为线性、各向同性、小应变的一维可压缩材料。\n-   本构关系为：轴向应变等于竖向应力增量除以约束模量 $M$。\n-   约束模量：$M = 30$ MPa。\n-   正常使用极限状态（SLS）的允许总沉降：$s_{allow} = 25$ mm。\n-   极限承载力：$q_u = 600$ kPa。\n-   岩土工程极限状态（UGS）要求的安全系数：$FS = 3$。\n\n### 步骤2：使用提取的已知条件进行验证\n根据所需标准对问题进行评估：\n-   **科学依据：** 该问题使用了土力学和基础工程学的基本概念，包括一维固结理论、极限状态设计（SLS 和 UGS）、极限承载力和安全系数。将大型筏板基础引起的均匀应力增加理想化用于一维沉降计算，是一种标准且有效的工程实践。使用约束模量 $M$ 关联应力和应变是约束边界条件下线性弹性理论的直接应用，这是小应变分析中常见的土体模型。所有概念都已成熟确立。\n-   **适定性：** 问题提出了一个明确的目标（确定 $q_{allow}$），并提供了一套完整的约束条件（SLS 和 UGS）。数据足以计算每个极限状态下的允许压力。最终答案是这两个值的最小值，从而得到唯一的解。\n-   **客观性：** 问题使用精确、定量且无偏见的专业技术语言进行陈述。\n-   **完整性与一致性：** 提供了所有必要的参数（$H$、$M$、$s_{allow}$、$q_u$、$FS$）。需要进行单位一致性检查。\n    -   $s_{allow} = 25$ mm $= 0.025$ m。\n    -   $M = 30$ MPa $= 30 \\times 10^3$ kPa。\n    -   $H = 4.0$ m。\n    -   $q_u = 600$ kPa。\n    -   $FS = 3$ （无量纲）。\n    所有单位在国际单位制（SI）内是一致的，压力/应力使用千帕斯卡（kPa），长度使用米（m）。没有矛盾之处。\n-   **现实性：** 给定的粘土厚度、约束模量、沉降允许值、极限承载力和安全系数值都在典型土木工程项目的实际范围内。\n\n### 步骤3：结论与行动\n该问题具有科学合理性、适定性、客观性、完整性、一致性和现实性。因此，它被判定为**有效**。将提供完整的解答。\n\n目标是确定允许的均布接触压力 $q_{allow}$，该压力需同时满足两个条件：正常使用极限状态（SLS）和岩土工程极限状态（UGS）。这需要计算每个极限状态所允许的最大压力，并选择更严格（即更低）的值。\n\n**1. 正常使用极限状态（SLS）分析**\nSLS 受允许沉降 $s_{allow}$ 的控制。我们必须找到能引起这个确切沉降量的压力 $q_{SLS}$。\n\n根据问题陈述，粘土表现为一维可压缩材料。在竖向应力增量 $\\Delta\\sigma_v$ 下的竖向应变 $\\epsilon_z$ 由以下本构定律给出：\n$$\n\\epsilon_z = \\frac{\\Delta\\sigma_v}{M}\n$$\n问题指明粘土内的应力增量是均匀的，并等于施加的接触压力，因此 $\\Delta\\sigma_v = q$。\n$$\n\\epsilon_z = \\frac{q}{M}\n$$\n对于小应变，竖向应变也定义为总沉降（厚度变化量）$s$ 除以粘土层的初始厚度 $H$。\n$$\n\\epsilon_z = \\frac{s}{H}\n$$\n将两个应变表达式相等，得到压力和沉降之间的关系：\n$$\n\\frac{s}{H} = \\frac{q}{M}\n$$\n求解沉降 $s$：\n$$\ns = \\frac{qH}{M}\n$$\nSLS 条件是计算出的沉降 $s$ 不得超过允许沉降 $s_{allow}$：\n$$\ns \\le s_{allow}\n$$\n代入 $s$ 的表达式，我们得到对压力 $q$ 的约束：\n$$\n\\frac{qH}{M} \\le s_{allow}\n$$\n因此，满足 SLS 准则的最大压力（我们记为 $q_{SLS}$）是：\n$$\nq_{SLS} = \\frac{s_{allow} M}{H}\n$$\n现在我们代入给定值，确保单位一致。我们使用 kPa 作为压力/模量的单位，米作为长度的单位。\n-   $s_{allow} = 25$ mm $= 0.025$ m。\n-   $M = 30$ MPa $= 30,000$ kPa。\n-   $H = 4.0$ m。\n\n$$\nq_{SLS} = \\frac{(0.025 \\, \\text{m}) \\times (30,000 \\, \\text{kPa})}{4.0 \\, \\text{m}} = \\frac{750 \\, \\text{kPa} \\cdot \\text{m}}{4.0 \\, \\text{m}} = 187.5 \\, \\text{kPa}\n$$\n因此，基于正常使用极限状态的最大允许压力是 $187.5$ kPa。\n\n**2. 岩土工程极限状态（UGS）分析**\nUGS 关注的是确保基础免于灾难性的承载力破坏。这是通过对极限承载力 $q_u$ 应用安全系数 $FS$ 来管理的。\n\n我们记为 $q_{UGS}$ 的允许承载力定义为：\n$$\nq_{UGS} = \\frac{q_u}{FS}\n$$\nUGS 条件是施加的压力 $q$ 不得超过此允许承载力：\n$$\nq \\le q_{UGS}\n$$\n代入给定值：\n-   $q_u = 600$ kPa。\n-   $FS = 3$。\n\n$$\nq_{UGS} = \\frac{600 \\, \\text{kPa}}{3} = 200 \\, \\text{kPa}\n$$\n因此，基于岩土工程极限状态的最大允许压力是 $200$ kPa。\n\n**3. 确定允许接触压力 $q_{allow}$**\n设计必须同时满足 SLS 和 UGS 条件。这意味着施加的压力 $q$ 必须小于或等于 $q_{SLS}$ 和 $q_{UGS}$。因此，总的允许接触压力 $q_{allow}$ 是这两个值的最小值：\n$$\nq_{allow} = \\min(q_{SLS}, q_{UGS})\n$$\n代入计算值：\n$$\nq_{allow} = \\min(187.5 \\, \\text{kPa}, 200 \\, \\text{kPa}) = 187.5 \\, \\text{kPa}\n$$\n较小的值来自正常使用极限状态。因此，设计由**沉降（SLS）控制**。\n\n问题要求最终答案四舍五入到三位有效数字。\n$$\nq_{allow} = 187.5 \\, \\text{kPa} \\approx 188 \\, \\text{kPa}\n$$\n允许的均布接触压力是 $188$ kPa。", "answer": "$$\n\\boxed{188}\n$$", "id": "3500565"}, {"introduction": "任何岩土工程模型都依赖于具有内在不确定性的输入参数，例如土体的摩擦角 $\\phi'$ 和重度 $\\gamma$。因此，理解这些参数的变化对设计结果（如极限承载力 $q_u$）的影响至关重要。本练习将引导您执行一项计算灵敏度分析，通过推导和应用灵敏度指数来量化不同参数的影响力，这是一项在模型验证和可靠度分析中极为强大的计算技术 [@problem_id:3500555]。", "problem": "您需要设计并实现一个完整的计算程序，用于对放置在干燥、均质、各向同性、无粘性土上、承受竖向中心荷载的浅基础条形地基的极限承载力进行局部、基于导数的敏感性研究。您的工作必须从与浅基础塑性理论承载力相一致的基本原理以及承载力系数作为有效摩擦角函数的标准定义开始。然后，您必须推导出敏感性量化所需的控制表达式。\n\n假设和建模范围：\n- 土壤为排水且无粘性，因此有效粘聚力 $c' = 0$。\n- 基础为长条形基础，宽度为 $B$，嵌入深度为 $D_f$，位于总单位重为 $\\gamma$ 的干燥土壤中。\n- 基础承受中心竖向荷载；形状、荷载倾角和深度系数均取为1。\n- 基础底面的附加荷载为 $q = \\gamma D_f$。\n- 有效应力摩擦角为 $\\phi'$，以弧度表示。\n- 极限承载力的所有物理计算必须以千帕（即 $\\mathrm{kPa}$）表示，所有长度以米（即 $\\mathrm{m}$）表示，单位重以千牛每立方米（即 $\\mathrm{kN/m^3}$）表示。\n\n任务：\n- 从浅基础承载力极限分析的概念以及极限承载力 $q_u$ 是由塑性破坏引起的附加荷载和土体自重贡献之和的定义出发，使用仅依赖于 $\\phi'$ 的经典承载力系数，推导出无粘性土的 $q_u$ 公式，用 $B$、$D_f$、$\\gamma$ 和 $\\phi'$ 表示。\n- 根据与经典解一致的标准、经过充分检验的定义，推导出承载力系数 $N_q(\\phi')$ 和 $N_\\gamma(\\phi')$ 的闭式表达式，并求出它们对 $\\phi'$ 的导数，以用于敏感性分析。\n- 在给定的标称参数点 $(\\phi', \\gamma)$，定义并计算局部的无量纲敏感性指数：\n  - $S_{\\phi'} = \\left| \\dfrac{\\partial q_u}{\\partial \\phi'} \\dfrac{\\phi'}{q_u} \\right|$，\n  - $S_{\\gamma} = \\left| \\dfrac{\\partial q_u}{\\partial \\gamma} \\dfrac{\\gamma}{q_u} \\right|$。\n- 根据以下准则，使用上述指数判断在标称点哪个参数的影响更大：\n  - 如果 $S_{\\phi'} - S_{\\gamma} > 0$ 且超出容差 $\\varepsilon$，则 $\\phi'$ 的影响更大。\n  - 如果 $S_{\\gamma} - S_{\\phi'} > 0$ 且超出容差 $\\varepsilon$，则 $\\gamma$ 的影响更大。\n  - 否则，视为影响相当。使用 $\\varepsilon = 10^{-9}$。\n\n角度单位要求：\n- 所有角度必须以弧度为单位。\n\n单位要求：\n- 使用以 $\\mathrm{m}$ 为单位的 $B$、以 $\\mathrm{m}$ 为单位的 $D_f$ 和以 $\\mathrm{kN/m^3}$ 为单位的 $\\gamma$ 计算以 $\\mathrm{kPa}$ 为单位的 $q_u$。\n\n测试套件：\n- 为以下四个测试案例提供结果，每个案例指定为 $(B, D_f, \\phi', \\gamma)$，其中 $B$ 单位为 $\\mathrm{m}$，$D_f$ 单位为 $\\mathrm{m}$，$\\phi'$ 单位为 $\\mathrm{rad}$，$\\gamma$ 单位为 $\\mathrm{kN/m^3}$：\n  - 案例 1：$(B, D_f, \\phi', \\gamma) = (\\,2.0,\\,1.0,\\,0.6108652381980153,\\,18.0\\,)$。\n  - 案例 2：$(B, D_f, \\phi', \\gamma) = (\\,1.5,\\,0.5,\\,0.4363323129985824,\\,16.0\\,)$。\n  - 案例 3：$(B, D_f, \\phi', \\gamma) = (\\,1.0,\\,0.0,\\,0.5235987755982988,\\,17.0\\,)$。\n  - 案例 4：$(B, D_f, \\phi', \\gamma) = (\\,3.0,\\,1.0,\\,0.7330382858376184,\\,20.0\\,)$。\n\n程序输出规范：\n- 对于每个测试案例，输出一个整数代码，指示在标称点处影响最大的参数：\n  - 如果 $\\phi'$ 的影响更大，输出 $0$。\n  - 如果 $\\gamma$ 的影响更大，输出 $1$。\n  - 如果在容差 $\\varepsilon$ 内两者影响相当，输出 $2$。\n- 您的程序应生成单行输出，其中包含一个用方括号括起来的逗号分隔列表，例如 `[r_1,r_2,r_3,r_4]`，其中每个 $r_i$ 是案例 $i$ 的整数代码。", "solution": "用户需要一个用于浅基础承载力敏感性分析的计算程序。\n\n### 步骤1：问题验证\n\n根据所需标准对问题陈述进行验证。\n\n#### 已知条件提取\n- **土壤特性**：排水、无粘性 ($c' = 0$)、干燥、均质、各向同性土。\n- **基础几何形状**：长条形基础，宽度 $B$，埋深 $D_f$。\n- **荷载**：竖向中心荷载。\n- **参数**：总单位重 $\\gamma$，有效应力摩擦角 $\\phi'$。\n- **假设**：\n    - $c' = 0$。\n    - 基础底面附加荷载：$q = \\gamma D_f$。\n    - 形状、荷载倾角和深度系数均取为1。\n- **控制方程（一般形式）**：极限承载力 $q_u$ 是附加荷载和土体自重贡献之和。\n- **承载力系数**：$N_q$ 和 $N_\\gamma$ 仅为 $\\phi'$ 的函数。\n- **敏感性指数**：\n    - $S_{\\phi'} = \\left| \\dfrac{\\partial q_u}{\\partial \\phi'} \\dfrac{\\phi'}{q_u} \\right|$\n    - $S_{\\gamma} = \\left| \\dfrac{\\partial q_u}{\\partial \\gamma} \\dfrac{\\gamma}{q_u} \\right|$\n- **判定准则**：使用容差 $\\varepsilon = 10^{-9}$ 比较 $S_{\\phi'}$ 和 $S_{\\gamma}$。若 $S_{\\phi'} - S_{\\gamma} > \\varepsilon$，则 $\\phi'$ 影响更大。若 $S_{\\gamma} - S_{\\phi'} > \\varepsilon$，则 $\\gamma$ 影响更大。否则，两者影响相当。\n- **单位**：$q_u$ 单位为 $\\mathrm{kPa}$，长度 ($B, D_f$) 单位为 $\\mathrm{m}$，$\\gamma$ 单位为 $\\mathrm{kN/m^3}$，$\\phi'$ 单位为弧度。\n- **测试案例**：\n    1. $(B, D_f, \\phi', \\gamma) = (2.0\\,\\mathrm{m}, 1.0\\,\\mathrm{m}, 0.6108652381980153\\,\\mathrm{rad}, 18.0\\,\\mathrm{kN/m^3})$\n    2. $(B, D_f, \\phi', \\gamma) = (1.5\\,\\mathrm{m}, 0.5\\,\\mathrm{m}, 0.4363323129985824\\,\\mathrm{rad}, 16.0\\,\\mathrm{kN/m^3})$\n    3. $(B, D_f, \\phi', \\gamma) = (1.0\\,\\mathrm{m}, 0.0\\,\\mathrm{m}, 0.5235987755982988\\,\\mathrm{rad}, 17.0\\,\\mathrm{kN/m^3})$\n    4. $(B, D_f, \\phi', \\gamma) = (3.0\\,\\mathrm{m}, 1.0\\,\\mathrm{m}, 0.7330382858376184\\,\\mathrm{rad}, 20.0\\,\\mathrm{kN/m^3})$\n\n#### 验证评估\n- **科学依据**：该问题基于经典的塑性理论来确定浅基础的承载力，这是岩土工程的基石。使用承载力系数 $N_q$ 和 $N_\\gamma$ 作为 $\\phi'$ 的函数是标准做法。敏感性分析是一种标准的数学技术。该问题在科学上是合理的。\n- **问题定义明确**：所有必要的参数、方程和准则都已提供。要求对 $N_q$ 和 $N_\\gamma$ 使用“标准、经过充分检验的定义”这一要求足够具体，可以选择被广泛接受的公式（例如，Prandtl、Vesic）。问题的结构使得每个测试案例都能得到唯一的数值答案。\n- **客观性**：问题以精确、量化、无偏的技术语言陈述。\n- **完整性和一致性**：问题是自洽的。所有测试案例的数据都已提供。单位系统（$\\mathrm{kPa}$、$\\mathrm{m}$、$\\mathrm{kN/m^3}$）内部一致，因为 $1\\,\\mathrm{kN/m^2} = 1\\,\\mathrm{kPa}$。要求角度以弧度为单位的规定很明确。\n\n#### 结论\n问题有效。这是一个在岩土工程领域定义明确的计算任务。\n\n### 步骤2：解析表达式推导\n\n#### 极限承载力, $q_u$\n条形基础极限承载力的一般方程为：\n$$q_u = c'N_c s_c d_c i_c + qN_q s_q d_q i_q + 0.5 \\gamma B N_\\gamma s_\\gamma d_\\gamma i_\\gamma$$\n应用问题的简化假设：\n- 无粘性土，$c' = 0$：第一项消失。\n- 条形基础、竖向中心荷载，以及明确假设所有形状、深度和倾角系数均为1（$s_q = s_\\gamma = d_q = d_\\gamma = i_q = i_\\gamma = 1$）。\n- 基础深度处的附加荷载为 $q = \\gamma D_f$。\n\n方程简化为：\n$$q_u = (\\gamma D_f) N_q(\\phi') + 0.5 \\gamma B N_\\gamma(\\phi')$$\n这是 $q_u$ 的控制方程。它可以因式分解为：\n$$q_u = \\gamma (D_f N_q(\\phi') + 0.5 B N_\\gamma(\\phi'))$$\n\n#### 承载力系数及其导数\n需要 $N_q$ 和 $N_\\gamma$ 的标准表达式及其关于 $\\phi'$ 的导数。所有角度必须以弧度为单位。\n\n1.  **承载力系数 $N_q(\\phi')$**：使用 Prandtl 的塑性理论精确解。\n    $$N_q(\\phi') = e^{\\pi \\tan \\phi'} \\tan^2\\left(\\frac{\\pi}{4} + \\frac{\\phi'}{2}\\right)$$\n\n2.  **$N_q(\\phi')$ 的导数**：我们使用乘法法则和链式法则对 $N_q$ 关于 $\\phi'$ 求导。导数的简化表达式为：\n    $$\\frac{dN_q}{d\\phi'} = N_q(\\phi') \\left( \\frac{\\pi}{\\cos^2 \\phi'} + \\frac{2}{\\cos \\phi'} \\right)$$\n\n3.  **承载力系数 $N_\\gamma(\\phi')$**：一个广泛使用且经过充分检验的表达式是 Vesic (1975) 提出的，它将 $N_\\gamma$ 与 $N_q$ 联系起来。\n    $$N_\\gamma(\\phi') = 2(N_q(\\phi') + 1) \\tan \\phi'$$\n\n4.  **$N_\\gamma(\\phi')$ 的导数**：对 $N_\\gamma$ 的表达式使用乘法法则：\n    $$\\frac{dN_\\gamma}{d\\phi'} = \\frac{d}{d\\phi'} [2(N_q + 1) \\tan \\phi']$$\n    $$\\frac{dN_\\gamma}{d\\phi'} = \\left(2 \\frac{dN_q}{d\\phi'}\\right) (\\tan \\phi') + (2(N_q + 1)) (\\sec^2 \\phi')$$\n    $$\\frac{dN_\\gamma}{d\\phi'} = 2 \\frac{dN_q}{d\\phi'} \\tan \\phi' + \\frac{2(N_q + 1)}{\\cos^2 \\phi'}$$\n\n#### 敏感性指数\n计算无量纲敏感性指数 $S_{\\phi'}$ 和 $S_{\\gamma}$。\n\n1.  **对土单位重的敏感性, $S_\\gamma$**：\n    我们对 $q_u$ 关于 $\\gamma$ 求导：\n    $$\\frac{\\partial q_u}{\\partial \\gamma} = \\frac{\\partial}{\\partial \\gamma} [\\gamma (D_f N_q + 0.5 B N_\\gamma)] = D_f N_q + 0.5 B N_\\gamma = \\frac{q_u}{\\gamma}$$\n    将此代入 $S_\\gamma$ 的定义中：\n    $$S_{\\gamma} = \\left| \\frac{\\partial q_u}{\\partial \\gamma} \\frac{\\gamma}{q_u} \\right| = \\left| \\frac{q_u}{\\gamma} \\frac{\\gamma}{q_u} \\right| = |1| = 1$$\n    $q_u$ 对 $\\gamma$ 的敏感性为1，反映了它们之间的线性关系。\n\n2.  **对摩擦角的敏感性, $S_{\\phi'}$**：\n    我们对 $q_u$ 关于 $\\phi'$ 求导：\n    $$\\frac{\\partial q_u}{\\partial \\phi'} = \\gamma \\left(D_f \\frac{dN_q}{d\\phi'} + 0.5 B \\frac{dN_\\gamma}{d\\phi'}\\right)$$\n    敏感性指数则为：\n    $$S_{\\phi'} = \\left| \\frac{\\partial q_u}{\\partial \\phi'} \\frac{\\phi'}{q_u} \\right| = \\left| \\frac{\\gamma \\left(D_f \\frac{dN_q}{d\\phi'} + 0.5 B \\frac{dN_\\gamma}{d\\phi'}\\right)}{\\gamma (D_f N_q + 0.5 B N_\\gamma)} \\phi' \\right|$$\n    由于 $B, D_f, \\gamma, \\phi'$ 均为正，且对于 $\\phi' \\in (0, \\pi/2)$，$N_q, N_\\gamma$ 及其导数也为正，绝对值内的项为正。因此：\n    $$S_{\\phi'} = \\frac{D_f \\frac{dN_q}{d\\phi'} + 0.5 B \\frac{dN_\\gamma}{d\\phi'}}{D_f N_q + 0.5 B N_\\gamma} \\phi'$$\n\n### 步骤3：计算步骤\n最后一步是实现这些推导出的公式来分析测试案例。\n1.  对于每个测试案例 $(B, D_f, \\phi', \\gamma)$，为给定的 $\\phi'$ 计算必要的三角函数项。\n2.  计算 $N_q(\\phi')$ 及其导数 $\\frac{dN_q}{d\\phi'}$。\n3.  计算 $N_\\gamma(\\phi')$ 及其导数 $\\frac{dN_\\gamma}{d\\phi'}$。\n4.  计算敏感性指数 $S_{\\phi'}$。\n5.  使用指定的容差 $\\varepsilon = 10^{-9}$ 将 $S_{\\phi'}$ 与 $S_\\gamma = 1$ 进行比较。\n    - 如果 $S_{\\phi'} - 1 > 10^{-9}$，结果为 $0$（$\\phi'$ 影响更大）。\n    - 如果 $1 - S_{\\phi'} > 10^{-9}$，结果为 $1$（$\\gamma$ 影响更大）。\n    - 否则，结果为 $2$（影响相当）。\n此过程将封装在一个Python程序中。", "answer": "```python\n# The complete and runnable Python 3 code goes here.\n# Imports must adhere to the specified execution environment.\nimport numpy as np\n\ndef solve():\n    \"\"\"\n    Solves the shallow foundation sensitivity analysis problem for a suite of test cases.\n    \"\"\"\n    \n    # Test cases: (B [m], Df [m], phi' [rad], gamma [kN/m^3])\n    test_cases = [\n        (2.0, 1.0, 0.6108652381980153, 18.0), # Case 1: 35 degrees\n        (1.5, 0.5, 0.4363323129985824, 16.0), # Case 2: 25 degrees\n        (1.0, 0.0, 0.5235987755982988, 17.0), # Case 3: 30 degrees (surface footing)\n        (3.0, 1.0, 0.7330382858376184, 20.0), # Case 4: 42 degrees\n    ]\n\n    results = []\n    for case in test_cases:\n        result_code = analyze_influence(*case)\n        results.append(result_code)\n\n    # Final print statement in the exact required format.\n    print(f\"[{','.join(map(str, results))}]\")\n\ndef analyze_influence(B, Df, phi_rad, gamma):\n    \"\"\"\n    Analyzes the local sensitivity of the ultimate bearing capacity to the\n    friction angle (phi') and soil unit weight (gamma).\n\n    Args:\n        B (float): Width of the strip footing in meters.\n        Df (float): Depth of embedment of the footing in meters.\n        phi_rad (float): Effective stress friction angle in radians.\n        gamma (float): Total unit weight of the soil in kN/m^3.\n\n    Returns:\n        int: An integer code indicating the most influential parameter:\n             0 for phi', 1 for gamma, 2 for a tie.\n    \"\"\"\n    epsilon = 1e-9\n\n    # 1. Calculate bearing capacity factors and their derivatives\n    \n    # Helper trigonometric terms\n    tan_phi = np.tan(phi_rad)\n    cos_phi = np.cos(phi_rad)\n    sec2_phi = 1.0 / (cos_phi**2)\n    \n    # Nq (Prandtl, 1921)\n    half_angle_term = np.pi / 4.0 + phi_rad / 2.0\n    tan_half_sq = np.tan(half_angle_term)**2\n    Nq = np.exp(np.pi * tan_phi) * tan_half_sq\n\n    # dNq/d(phi')\n    # Simplified form: dNq/d(phi') = Nq * (pi * sec^2(phi) + 2 / cos(phi))\n    dNq_dphi = Nq * (np.pi * sec2_phi + 2.0 / cos_phi)\n    \n    # N_gamma (Vesic, 1975)\n    N_gamma = 2.0 * (Nq + 1.0) * tan_phi\n    \n    # d(N_gamma)/d(phi')\n    # dN_gamma/d(phi') = 2 * (dNq/d(phi')) * tan(phi) + 2 * (Nq + 1) * sec^2(phi)\n    dN_gamma_dphi = 2.0 * dNq_dphi * tan_phi + 2.0 * (Nq + 1.0) * sec2_phi\n\n    # 2. Calculate sensitivity indices\n    \n    # S_gamma is analytically 1\n    S_gamma = 1.0\n\n    # S_phi = |(d(qu)/d(phi')) * (phi'/qu)|\n    # Since all parameters and factors are positive, the absolute value is not needed.\n    # The term (gamma) cancels out from the numerator and denominator.\n    numerator_s_phi = Df * dNq_dphi + 0.5 * B * dN_gamma_dphi\n    denominator_s_phi = Df * Nq + 0.5 * B * N_gamma\n    \n    # Handle the case where bearing capacity is near zero, making sensitivity undefined.\n    if abs(denominator_s_phi) < 1e-12:\n        # This case could happen if B, Df, and phi_rad were all zero,\n        # but should not occur with the given test data.\n        # If qu is zero, sensitivity is undefined. We treat it as a tie.\n        return 2\n\n    S_phi = (numerator_s_phi / denominator_s_phi) * phi_rad\n\n    # 3. Compare sensitivities and return code\n    diff = S_phi - S_gamma\n    if diff > epsilon:\n        return 0  # phi' is more influential\n    elif diff < -epsilon:\n        return 1  # gamma is more influential\n    else:\n        return 2  # Tied\n\n# Execute the main function\nsolve()\n```", "id": "3500555"}]}